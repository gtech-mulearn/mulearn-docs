#!/bin/sh
# Validate commit message format

echo "ğŸ“ Validating commit message..."

bunx --no -- commitlint --edit "$1"

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Commit message does not follow Conventional Commits format."
  echo ""
  echo "ğŸ“– Expected format: <type>(<scope>): <subject>"
  echo ""
  echo "ğŸ“Œ Valid types: feat, fix, docs, style, refactor, perf, test, chore, revert, build, ci"
  echo ""
  echo "ğŸ“š Examples:"
  echo "  feat: add user authentication"
  echo "  fix(api): resolve null pointer exception"
  echo "  docs: update README installation steps"
  echo ""
  echo "ğŸ”— Learn more: https://www.conventionalcommits.org/"
  exit 1
fi

echo "âœ… Commit message validated!"
